/* ============================================
   DER DIE DAS SPACE - i18n SYSTEM
   Ã‡ok dilli destek (TR/EN)
   ============================================ */

const translations = {
  tr: {
    // Common
    start: 'BaÅŸla',
    login: 'GiriÅŸ Yap',
    logout: 'Ã‡Ä±kÄ±ÅŸ',
    register: 'KayÄ±t Ol',
    cancel: 'Ä°ptal',
    save: 'Kaydet',
    delete: 'Sil',
    edit: 'DÃ¼zenle',
    close: 'Kapat',
    back: 'Geri',
    next: 'Sonraki',
    submit: 'GÃ¶nder',
    loading: 'YÃ¼kleniyor...',
    
    // Page specific
    chooseLanguage: 'Dilinizi SeÃ§in',
    chooseLanguageSub: 'Choose Your Language',
    welcomeBack: 'HoÅŸ Geldin!',
    profile: 'Profil',
    howToPlay: 'â“ NasÄ±l OynanÄ±r?',
    selectGame: 'Oyununu SeÃ§!',
    allGamesFree: 'ðŸŽ® TÃ¼m Oyunlar Ãœcretsiz!',
    registerPrompt: 'Skorunuzu kaydetmek iÃ§in kayÄ±t olun',

    // Hero Section
    heroTitle: 'Almanca Artikellerini Oyunla Ã–ÄŸren!',
    heroSubtitle: 'Der, Die, Das artikellerini 5 eÄŸlenceli oyunla master et. Ãœcretsiz, eÄŸlenceli ve etkili!',
    startLearning: 'Ã–ÄŸrenmeye BaÅŸla ðŸš€',
    exploreGames: 'OyunlarÄ± KeÅŸfet',
    
    // Game UI
    correct: 'DoÄŸru!',
    wrong: 'YanlÄ±ÅŸ!',
    timeUp: 'SÃ¼re Doldu!',
    score: 'Skor',
    combo: 'Combo',
    question: 'Soru',
    of: '/',
    seconds: 'saniye',
    timer: 'SÃ¼re',
    questions: 'Soru',
    
    // Set Summary
    setComplete: 'Set TamamlandÄ±!',
    yourScore: 'Skorunuz',
    correctAnswers: 'DoÄŸru Cevaplar',
    wrongAnswers: 'YanlÄ±ÅŸ Cevaplar',
    maxCombo: 'Max Combo',
    avgTime: 'Ortalama SÃ¼re',
    accuracy: 'DoÄŸruluk',
    speedBonus: 'HÄ±z Bonusu',
    comboBonus: 'Combo Bonusu',
    penalty: 'Ceza',
    baseScore: 'Temel Puan',
    normalizedScore: 'Normalized Skor',
    globalRank: 'Global SÄ±ralama',
    backToHome: 'Ana Sayfaya DÃ¶n',
    viewLeaderboard: 'Skor Tablosunu GÃ¶r',
    
    // Leaderboard
    leaderboard: 'Skor Tablosu',
    rank: 'SÄ±ra',
    player: 'Oyuncu',
    game: 'Oyun',
    level: 'Seviye',
    globalLeaderboard: 'Global Liderlik',
    gameLeaderboard: 'Oyun LiderliÄŸi',
    
    // Stats
    totalScore: 'Toplam Skor:',
    completedSets: 'Tamamlanan Set:',
    recentBadges: 'Son KazanÄ±lan Badge\'ler:',
    viewProfile: 'Profile Git',
    
    // Levels
    level1: 'Kolay',
    level2: 'Orta-Kolay',
    level3: 'Orta',
    level4: 'Zor',
    level5: 'Ã‡ok Zor',
    
    // Games
    derDieDash: 'Der Die Dash',
    derDieDashDesc: 'Artikel tahmin oyunu',
    caseControl: 'Case Control',
    caseControlDesc: 'Preposition challenge',
    wordSalad: 'Word Salad',
    wordSaladDesc: 'Kelimelerden cÃ¼mle kur',
    translationQuest: 'Translation Quest',
    translationQuestDesc: 'Almanca â†’ TR/EN Ã§eviri',
    fiveLetterBlitz: '5-Letter Blitz',
    fiveLetterBlitzDesc: '5 harfi sÄ±rala',
    
    // Badges
    badges: 'Rozetler',
    earnedBadges: 'KazanÄ±lan Rozetler',
    newBadge: 'Yeni Rozet!',
    badgeEarned: 'Rozet KazandÄ±n!',
    badgesEarned: 'Badge KazandÄ±n',
    viewAllBadges: 'TÃ¼m badge\'leri gÃ¶r',
    
    // Errors
    errorGeneric: 'Bir hata oluÅŸtu',
    errorNetwork: 'BaÄŸlantÄ± hatasÄ±',
    errorAuth: 'Kimlik doÄŸrulama hatasÄ±',
    errorInvalidInput: 'GeÃ§ersiz giriÅŸ',
    
    // Auth
    emailPlaceholder: 'E-posta adresiniz',
    passwordPlaceholder: 'Åžifreniz',
    displayNamePlaceholder: 'AdÄ±nÄ±z',
    loginWithGoogle: 'Google ile GiriÅŸ',
    loginWithEmail: 'E-posta ile GiriÅŸ',
    dontHaveAccount: 'HesabÄ±nÄ±z yok mu?',
    alreadyHaveAccount: 'Zaten hesabÄ±nÄ±z var mÄ±?',
    
    // Demo
    demoMode: 'Demo Modu',
    demoMessage: 'KayÄ±t olmadan oynuyorsunuz. Skorunuz kaydedilmeyecek.',
    registerToSave: 'Skorunuzu kaydetmek iÃ§in kayÄ±t olun',
    
    // Actions
    reset: 'RESET',
    go: 'GO âžœ',
    ok: 'OK',
    completed: 'TamamlandÄ±',
    correctAnswer: 'DoÄŸru Cevap',
    copied: 'KopyalandÄ±!',
    
    // Time
    date: 'Tarih',
    ago: 'Ã¶nce',
    justNow: 'Az Ã¶nce',
    
    // Game instructions
    clickWordsToBuild: 'Kelimelere tÄ±klayarak cÃ¼mleyi oluÅŸtur',
    clickLettersToBuild: 'Harflere tÄ±klayarak kelimeyi oluÅŸtur',
    
    // How to Play
    howToPlayDesc1: 'Her oyundan 1 set Ã¼cretsiz oynayabilirsiniz!',
    howToPlayDesc2: 'KayÄ±t olun, skorunuzu kaydedin, badge kazanÄ±n!',
    scoringSystem: 'Puanlama Sistemi:',
    scoringBase: 'Base puan: Zorluk seviyesine gÃ¶re (20-30 puan)',
    scoringSpeed: 'HÄ±z bonusu: HÄ±zlÄ± cevap vererek ekstra puan kazan',
    scoringCombo: 'Combo bonusu: Ãœst Ã¼ste doÄŸru cevaplarla combo yakala!',
    difficultyLevels: 'Zorluk Seviyeleri:',
    play: 'OYNA >',
  },
  
  en: {
    // Common
    start: 'Start',
    login: 'Login',
    logout: 'Logout',
    register: 'Register',
    cancel: 'Cancel',
    save: 'Save',
    delete: 'Delete',
    edit: 'Edit',
    close: 'Close',
    back: 'Back',
    next: 'Next',
    submit: 'Submit',
    loading: 'Loading...',
    
    // Page specific
    chooseLanguage: 'Choose Your Language',
    chooseLanguageSub: 'Dilinizi SeÃ§in',
    welcomeBack: 'Welcome Back!',
    profile: 'Profile',
    howToPlay: 'â“ How to Play?',
    selectGame: 'Choose Your Game!',
    allGamesFree: 'ðŸŽ® All Games Free!',
    registerPrompt: 'Register to save your score',

    // Hero Section
    heroTitle: 'Learn German Articles with Games!',
    heroSubtitle: 'Master Der, Die, Das articles with 5 fun games. Free, fun, and effective!',
    startLearning: 'Start Learning ðŸš€',
    exploreGames: 'Explore Games',
    
    // Game UI
    correct: 'Correct!',
    wrong: 'Wrong!',
    timeUp: 'Time\'s Up!',
    score: 'Score',
    combo: 'Combo',
    question: 'Question',
    of: 'of',
    seconds: 'seconds',
    timer: 'Timer',
    questions: 'Questions',
    
    // Set Summary
    setComplete: 'Set Complete!',
    yourScore: 'Your Score',
    correctAnswers: 'Correct Answers',
    wrongAnswers: 'Wrong Answers',
    maxCombo: 'Max Combo',
    avgTime: 'Average Time',
    accuracy: 'Accuracy',
    speedBonus: 'Speed Bonus',
    comboBonus: 'Combo Bonus',
    penalty: 'Penalty',
    baseScore: 'Base Score',
    normalizedScore: 'Normalized Score',
    globalRank: 'Global Rank',
    backToHome: 'Back to Home',
    viewLeaderboard: 'View Leaderboard',
    
    // Leaderboard
    leaderboard: 'Leaderboard',
    rank: 'Rank',
    player: 'Player',
    game: 'Game',
    level: 'Level',
    globalLeaderboard: 'Global Leaderboard',
    gameLeaderboard: 'Game Leaderboard',
    
    // Stats
    totalScore: 'Total Score:',
    completedSets: 'Completed Sets:',
    recentBadges: 'Recent Badges:',
    viewProfile: 'View Profile',
    
    // Levels
    level1: 'Easy',
    level2: 'Medium-Easy',
    level3: 'Medium',
    level4: 'Hard',
    level5: 'Very Hard',
    
    // Games
    derDieDash: 'Der Die Dash',
    derDieDashDesc: 'Article guessing game',
    caseControl: 'Case Control',
    caseControlDesc: 'Preposition challenge',
    wordSalad: 'Word Salad',
    wordSaladDesc: 'Build sentences from words',
    translationQuest: 'Translation Quest',
    translationQuestDesc: 'German â†’ TR/EN translation',
    fiveLetterBlitz: '5-Letter Blitz',
    fiveLetterBlitzDesc: 'Arrange 5 letters',
    
    // Badges
    badges: 'Badges',
    earnedBadges: 'Earned Badges',
    newBadge: 'New Badge!',
    badgeEarned: 'Badge Earned!',
    badgesEarned: 'Badges Earned',
    viewAllBadges: 'View All Badges',
    
    // Errors
    errorGeneric: 'An error occurred',
    errorNetwork: 'Network error',
    errorAuth: 'Authentication error',
    errorInvalidInput: 'Invalid input',
    
    // Auth
    emailPlaceholder: 'Your email',
    passwordPlaceholder: 'Your password',
    displayNamePlaceholder: 'Your name',
    loginWithGoogle: 'Login with Google',
    loginWithEmail: 'Login with Email',
    dontHaveAccount: 'Don\'t have an account?',
    alreadyHaveAccount: 'Already have an account?',
    
    // Demo
    demoMode: 'Demo Mode',
    demoMessage: 'Playing without registration. Your score won\'t be saved.',
    registerToSave: 'Register to save your score',
    
    // Actions
    reset: 'RESET',
    go: 'GO âžœ',
    ok: 'OK',
    completed: 'Completed',
    correctAnswer: 'Correct Answer',
    copied: 'Copied!',
    
    // Time
    date: 'Date',
    ago: 'ago',
    justNow: 'Just now',
    
    // Game instructions
    clickWordsToBuild: 'Click words to build sentence',
    clickLettersToBuild: 'Click letters to build word',
    
    // How to Play
    howToPlayDesc1: 'You can play 1 free set from each game!',
    howToPlayDesc2: 'Register to save your score and earn badges!',
    scoringSystem: 'Scoring System:',
    scoringBase: 'Base score: Based on difficulty level (20-30 points)',
    scoringSpeed: 'Speed bonus: Earn extra points by answering quickly',
    scoringCombo: 'Combo bonus: Catch combos with consecutive correct answers!',
    difficultyLevels: 'Difficulty Levels:',
    play: 'PLAY >',
  }
};

let currentLang = localStorage.getItem('language') || 'tr';

export function setLanguage(lang) {
  if (translations[lang]) {
    currentLang = lang;
    localStorage.setItem('language', lang);
    updatePageTranslations();
  }
}

export function t(key) {
  return translations[currentLang][key] || key;
}

export function getCurrentLanguage() {
  return currentLang;
}

function updatePageTranslations() {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    el.textContent = t(key);
  });
  
  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    const key = el.getAttribute('data-i18n-placeholder');
    el.placeholder = t(key);
  });
}

// Auto-update on page load
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', updatePageTranslations);
} else {
  updatePageTranslations();
}
